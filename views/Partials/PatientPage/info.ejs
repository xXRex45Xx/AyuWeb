<%- include("../Flash/successflash.ejs") %> 
<div class="container-fluid infoContainer">
    <div class="row gy-2 align-items-center infoBox">
        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Patient Number: </span>
            <p class="infoBox_value">
                <%= info[0][0].PatientNumber %>
            </p>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Name: </span>
            <span class="infoBox_value">
                <%= info[0][0].Name %>
            </span>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Age: </span>
            <span class="infoBox_value">
                <%= parseInt(info[0][0].Age) %>
            </span>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Gender: </span>
            <span class="infoBox_value">
                <%= info[0][0].Gender.toUpperCase() %>
            </span>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Card Number: </span>
            <span class="infoBox_value">
                <%= info[0][0].CardNumber %>
            </span>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Address: </span>
            <span class="infoBox_value">
                <%= info[0][0].Address %>
            </span>
        </div>

        <div class="infoBox_element col-auto">
            <span class="infoBox_label">Phone Number: </span>
            <span class="infoBox_value">
                <%= info[0][0].PhoneNumber %>
            </span>
        </div>
    </div>
    <% if(type === "reception"){ %> 
    <div class="ps-2 infBox_element align-items-center row mt-4 col-auto">
        <span class="infoBox_label me-2">Doctor Assignment: </span>
        <div class="col-6 col-md-5 col-lg-4 col-xl-3">
            <select name="doctorType" class="doctorType form-select">
                <option value="gynecologist">Gynecologist</option>
                <option value="gp" selected>General Practitioner</option>
                <option value="surgeon">Surgeon</option>
                <option value="skin">Skin</option>
                <option value="skeletal">Skeletal</option>
                <option value="eye">Eye</option>
            </select>
        </div>
        <div class="col-2">
            <button type="button" class="btn btn-primary infoBox_addQueue">Queue</button>
        </div>
    </div> 
    <% } %> 
</div>

<div class="container-fluid row appointmentContainer mt-4 h-75">
    <div class="accordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-appointmentHeader">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#panelsStayOpen-appointment" aria-expanded="false"
                    aria-controls="panelsStayOpen-appointment">
                    Appointments
                </button>
            </h2>
            <div class="accordion-collapse collapse" id="panelsStayOpen-appointment"
                aria-labelledby="panelsStayOpen-appointmentHeader">
                <div class="appointmentContainer_appointment">
                    <table class="table table-borderless">
                        <caption>Appointments</caption>
                        <thead>
                            <tr>
                                <th>Doctor Name</th>
                                <th>Date Of Appointment</th>
                                <th>Time Of Appointment</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr></tr>
                            <% for(let appointment of appointments[0]){ %>
                                <tr>
                                    <td>
                                        <%= appointment.DoctorName %>
                                    </td>
                                    <td>
                                        <%= appointment.DateOfAppointment %>
                                    </td>
                                    <td>
                                        <%= appointment.TimeOfAppointment %>
                                    </td>
                                </tr>
                                <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>








<%# for(let entry of info[0]) { %>
    <%#= entry.Name %>
        <%# } %>
            <%# for(let entry of appointments[0]) { %>
                <%#= entry.DateOfAppointment%>
                    <%# } %>